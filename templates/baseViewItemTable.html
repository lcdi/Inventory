{% extends "baseContent.html" %}

{% block content %}
	<!-- Start: Table header -->
	<div class="panel-heading">
		{% block tableHeader %}{% endblock %}
	</div>
	<!-- End: Table header -->
	
	<!-- Start: Table Body -->
	<div class="panel-body">
		<div class="dataTable_wrapper">
			<table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
				<thead>
					<tr>
						<th>Serial Number</th>
						<th>Type</th>
						<th>Purpose</th>
						<th>Last User</th>
						<th>Date Out</th>
						<th>Date In</th>
						<th>Sign In / Out</th>
					</tr>
				</thead>
				<tbody>
					{% for device in query %}
						<tr>
							<td>
								<a href="{{ url_for('view', serial=device.SerialNumber) }}">{{ device.SerialNumber }}</a>
							</td>
							<td>{{ device.Type }}</td>
							<td>{{ device.log.Purpose }}</td>
							<td>{{ device.log.UserIdentifier }}</td>
							<td>
								{% if device.log.DateOut %}
									{{ device.log.DateOut }}
								{% endif %}
							</td>
							<td>
								{% if device.log.DateIn %}
									{{ device.log.DateIn }}
								{% endif %}
							</td>
							<td>
								{% if device.log.DateIn or not device.log.DateOut %}
									<button type="button" class="btn btn-danger btn-sm"
											data-toggle="modal" data-target="#signOutModal">
										<span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
										Sign Out
									</button>
								{% else %}
									<button type="button" class="btn btn-success btn-sm"
											data-toggle="modal" data-target="#signOutModal">
										<span class="glyphicon glyphicon-log-in" aria-hidden="true"></span>
										Sign In
									</button>
								{% endif %}
								
							</td>
							
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	<!-- End: Table Body -->
	
{%endblock%}

{% block postScripts %}

<script language="javascript">
	function submitForm_ViewSerial() {
		document.viewSerialForm.submit();
	}
</script>

{% endblock %}
